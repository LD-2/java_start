什么叫做数据库事务？
事务: 一组逻辑操作单元，使数据从一种状态变成另一种状态
        一组逻辑操作单元: 一个或者多个DML操作

事务处理的原则:
保证所有的事务都作为一个工作单元来执行，即使出现了故障，都不能改变这种执行方式。
当在一个事务中执行多个操作时，要么所有的事务都被提交，那么这些修改就被永久的保存下来。要么数据库管理系统将放弃所作的所有修改，整个事务回滚到最初的状态。

数据一旦提交就不可以回滚
哪些操作会导致数据的自动提交？
DDL操作一旦执行就会自动提交 set autocommit = false 对DDL操作失败
DML操作一旦执行就会自动提交 set autocommit = false 的方式可以取消DML操作的自动提交
默认在关闭连接的时候 会自动提交数据

处理事务的一个操作:
关闭数据连接的自动提交 在执行完所有操作后 统一操作
记得数据回滚 以免有异常
最后关闭数据库连接
若此时数据库没有关闭连接，还肯被重复利用，则需要恢复其自动提交状态 尤其是执行close()方法前，建议先恢复自动提交状态
数据库连接池中的连接close()方法不是直接关 而是回收到数据库连接池中

事务的ACID属性:
原子性 原子性是指事务的一个不可分割的特点 事务中的操作要么都发生 要么都不发生
一致性 事务必须使数据库从一个一致性状态变为另一个一致性状态
隔离性 事务的隔离性是指一个事务的执行不能被其它事务干扰 即一个事务内部操作的数据对并发的其它事务时隔离的 并发执行的各个事务之间不能互相干扰
持久性 持久性是指一个数据一但被提交 它对数据库的改变就是永久的

数据库的并发问题:
脏读: 对于两个事务 读取了为提交的数据  数据肯回滚无效
不可重复读写: 对于两个事务 第一次读的时候没改变 其中一个事务改变数据了 继续第一个事务的情况下读数据变了  更新字段
幻读: 再次读的时候 会发现多了很多行

四种隔离级别
读取未提交的数据 READ UNCOMMTTED
读取已提交的数据 READ COMMTED
可重复读  读一个事务中的同一个数据 REPEAT READ
串行化  读一个事务中 一开始的状态


